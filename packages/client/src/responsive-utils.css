/* =================================================================
   RESPONSIVE UI SCALING - Mobile-first adaptive design
   ================================================================= */

/* Base font size scaling */
:root {
  /* Mobile-first base (320px min width) */
  --base-font-size: 14px;
  --spacing-unit: 8px;
  --border-radius-sm: 8px;
  --border-radius-md: 12px;
  --border-radius-lg: 16px;

  /* Dynamic sizing based on viewport */
  --vh: 1vh;
  --vw: 1vw;
}

/* Fluid typography */
html {
  font-size: clamp(14px, 2.5vw, 18px);
}

/* Small phones (< 375px) */
@media (max-width: 374px) {
  :root {
    --base-font-size: 13px;
    --spacing-unit: 6px;
    --border-radius-sm: 6px;
    --border-radius-md: 10px;
    --border-radius-lg: 14px;
  }
}

/* Standard phones (375px - 767px) */
@media (min-width: 375px) and (max-width: 767px) {
  :root {
    --base-font-size: 14px;
    --spacing-unit: 8px;
  }
}

/* Tablets (768px - 1023px) */
@media (min-width: 768px) and (max-width: 1023px) {
  :root {
    --base-font-size: 16px;
    --spacing-unit: 10px;
    --border-radius-sm: 10px;
    --border-radius-md: 14px;
    --border-radius-lg: 18px;
  }
}

/* Desktop (>= 1024px) */
@media (min-width: 1024px) {
  :root {
    --base-font-size: 18px;
    --spacing-unit: 12px;
    --border-radius-sm: 12px;
    --border-radius-md: 16px;
    --border-radius-lg: 20px;
  }
}

/* Dynamic canvas sizing */
.game-canvas-container {
  position: relative;
  width: 100%;
  height: 100%;
  max-width: 100vw;
  max-height: 100vh;
  overflow: hidden;
}

canvas {
  width: 100% !important;
  height: 100% !important;
  object-fit: fill; /* Stretch to fill - no black bars */
  touch-action: none;
  user-select: none;
  -webkit-user-select: none;
}

/* Responsive button sizing */
.btn-base {
  font-size: clamp(14px, 3vw, 18px);
  padding: clamp(10px, 2vh, 16px) clamp(20px, 4vw, 32px);
  border-radius: var(--border-radius-md);
  min-height: 44px; /* iOS minimum touch target */
  min-width: 44px;
}

/* Responsive modal/card sizing */
.modal-card,
.tournament-card {
  width: clamp(280px, 90vw, 400px);
  padding: clamp(16px, 4vw, 24px);
  border-radius: var(--border-radius-lg);
}

/* Responsive text sizing */
.text-xs {
  font-size: clamp(10px, 2vw, 12px);
}

.text-sm {
  font-size: clamp(12px, 2.5vw, 14px);
}

.text-base {
  font-size: clamp(14px, 3vw, 16px);
}

.text-lg {
  font-size: clamp(16px, 3.5vw, 20px);
}

.text-xl {
  font-size: clamp(20px, 4vw, 28px);
}

.text-2xl {
  font-size: clamp(24px, 5vw, 36px);
}

.text-3xl {
  font-size: clamp(32px, 6vw, 48px);
}

/* Responsive spacing utilities */
.gap-xs { gap: calc(var(--spacing-unit) * 0.5); }
.gap-sm { gap: var(--spacing-unit); }
.gap-md { gap: calc(var(--spacing-unit) * 2); }
.gap-lg { gap: calc(var(--spacing-unit) * 3); }
.gap-xl { gap: calc(var(--spacing-unit) * 4); }

.p-xs { padding: calc(var(--spacing-unit) * 0.5); }
.p-sm { padding: var(--spacing-unit); }
.p-md { padding: calc(var(--spacing-unit) * 2); }
.p-lg { padding: calc(var(--spacing-unit) * 3); }
.p-xl { padding: calc(var(--spacing-unit) * 4); }

.m-xs { margin: calc(var(--spacing-unit) * 0.5); }
.m-sm { margin: var(--spacing-unit); }
.m-md { margin: calc(var(--spacing-unit) * 2); }
.m-lg { margin: calc(var(--spacing-unit) * 3); }
.m-xl { margin: calc(var(--spacing-unit) * 4); }

/* Safe area handling for notched devices */
@supports (padding: env(safe-area-inset-bottom)) {
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-right {
    padding-right: env(safe-area-inset-right);
  }

  .safe-all {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}

/* Landscape specific layouts */
@media (orientation: landscape) and (max-height: 500px) {
  /* Compact HUD for landscape mode */
  .mobile-wallet-badge {
    font-size: 11px;
    padding: 4px 8px;
  }

  .mobile-lobby-container,
  .mobile-modes-container {
    padding: clamp(12px, 2vh, 16px);
  }

  .mobile-lobby-title,
  .mobile-modes-title {
    font-size: clamp(20px, 4vh, 28px);
  }
}

/* Portrait specific layouts */
@media (orientation: portrait) {
  .tournament-grid {
    grid-template-columns: 1fr;
    max-width: 400px;
    margin: 0 auto;
  }

  .mobile-stats-row {
    flex-wrap: wrap;
    justify-content: center;
  }
}

/* High DPI displays */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  canvas {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Dark mode support (future-proofing) */
@media (prefers-color-scheme: dark) {
  :root {
    --bg-primary: #0e1116;
    --bg-secondary: #161b22;
    --text-primary: #e6edf3;
    --text-secondary: #7d8590;
  }
}

/* Container queries (progressive enhancement) */
@supports (container-type: inline-size) {
  .tournament-card {
    container-type: inline-size;
  }

  @container (min-width: 400px) {
    .tournament-card {
      padding: 24px;
    }
  }
}

/* Accessibility: Ensure touch targets are at least 44x44 */
button,
a,
input,
select,
textarea,
[role="button"] {
  min-height: 44px;
  min-width: 44px;
}

/* Hide scrollbars but keep functionality */
.hide-scrollbar {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge */
}

.hide-scrollbar::-webkit-scrollbar {
  display: none; /* Chrome/Safari */
}

/* Performance: GPU acceleration for animations */
.gpu-accelerated {
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* iOS-specific fixes */
@supports (-webkit-touch-callout: none) {
  /* Prevent iOS bounce/overscroll */
  body {
    position: fixed;
    overflow: hidden;
    width: 100%;
    height: 100%;
  }

  #root {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* Fix iOS input zoom */
  input,
  select,
  textarea {
    font-size: 16px !important;
  }
}

/* Android-specific fixes */
@media (hover: none) and (pointer: coarse) {
  /* Prevent accidental zoom on double-tap */
  * {
    touch-action: manipulation;
  }

  /* Larger touch targets on Android */
  button,
  a[role="button"] {
    min-height: 48px;
    min-width: 48px;
  }
}

